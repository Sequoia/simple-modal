<link rel="import" href="../polymer/polymer.html"> <link rel="import" href="../iron-icon/iron-icon.html" async> <link rel="import" href="../iron-iconset-svg/iron-iconset-svg.html" async> <iron-iconset-svg name="simple-modal" size="16"> <svg> <defs> <g id="close"><path d="M9.793 8.001l3.048 3.048c0.198 0.198 0.198 0.52 0 0.717l-1.075 1.075c-0.198 0.198-0.519 0.198-0.717 0l-3.049-3.048-3.049 3.048c-0.198 0.198-0.519 0.198-0.717 0l-1.076-1.075c-0.198-0.198-0.198-0.519 0-0.717l3.049-3.048-3.049-3.049c-0.198-0.198-0.198-0.519 0-0.718l1.076-1.075c0.198-0.198 0.519-0.198 0.717 0l3.048 3.048 3.048-3.049c0.198-0.198 0.519-0.198 0.717 0l1.075 1.076c0.198 0.198 0.198 0.519 0 0.718l-3.048 3.048z"/></g> </defs> </svg> </iron-iconset-svg> <dom-module id="simple-modal"> <template> <style>*,::after,::before,:host{box-sizing:border-box;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}:host{position:fixed;display:none;top:0;right:0;left:0;bottom:0;overflow:scroll;padding:1rem;z-index:9999999}:host([visible]){display:-webkit-box;display:-ms-flexbox;display:flex}.overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:var(--simple-modal-overlay,rgba(0,0,0,.2))}.modal{display:inline-block;position:relative;background:#fff;margin:auto;overflow:hidden;z-index:1;box-shadow:0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12),0 3px 5px -1px rgba(0,0,0,.4);@apply(--simple-modal)}.modal__title{text-align:center;line-height:1;@apply(--simple-modal-title)}.modal__content{padding:var(--simple-modal-padding,40px);overflow:auto}.modal__close{--iron-icon-width:var(--simple-modal-close-size, 14px);--iron-icon-height:var(--simple-modal-close-size, 14px);position:absolute;top:10px;right:13px;color:var(--simple-modal-close-color,rgba(0,0,0,.45));opacity:.7;@apply(--simple-modal-close)}.modal__close:hover{opacity:1}</style> <div class="overlay" id="overlay" on-tap="close"></div> <div class="modal" id="modal"> <iron-icon id="close" class="modal__close" on-tap="close" icon="simple-modal:close" hidden$="[[noExit]]"> </iron-icon> <h1 class="modal__title" hidden$="[[!title]]">[[title]]</h1> <div class="modal__content"> <content></content> </div> </div> </template> <script src="../web-animations-js/web-animations.min.js">!function(){"use strict"}()</script> <script>!function(){"use strict";var e={standard:"cubic-bezier(0.4, 0.0, 0.2, 1)",accelerate:"cubic-bezier(0.4, 0.0, 1, 1)",decelerate:"cubic-bezier(0.0, 0.0, 0.2, 1)"},t={modal:{frames:[{transform:"translateZ(0) scale(0.75, 0.95)",opacity:0},{transform:"translateZ(0) scale(1, 1)",opacity:1}],opts:{open:{easing:e.standard,fill:"both",duration:150,delay:130},close:{easing:e.standard,fill:"both",duration:120}}},overlay:{frames:[{opacity:0},{opacity:1}],opts:{open:{easing:"ease",fill:"both",duration:270},close:{easing:"ease",fill:"both",duration:180,delay:80}}}},o={properties:{visible:{type:Boolean,reflectToAttribute:!0}},animateModalOpen:function(){var e=t.overlay,o=t.modal;this.visible=!0,this.$.overlay.animate(e.frames,e.opts.open),this.$.modal.animate(o.frames,o.opts.open)},animateModalClosed:function(){var e=this,o=void 0,a=t.overlay,n=t.modal,i=function(e){return new Promise(function(t){return e.onfinish=t})};o=[this.$.overlay.animate(a.frames.slice().reverse(),a.opts.close),this.$.modal.animate(n.frames.slice().reverse(),n.opts.close)],Promise.all(o.map(i)).then(function(){return e.visible=!1})}},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),i=function(){function e(){a(this,e)}return n(e,[{key:"beforeRegister",value:function(){this.is="simple-modal",this.properties={title:{type:String,value:""},noExit:Boolean,active:{type:Boolean,notify:!0,observer:"_activeChanged",value:!1}}}},{key:"_activeChanged",value:function(e,t){e?(this.animateModalOpen(),this._toggleBodyLock(!0),this.fire("opened")):t&&(this.animateModalClosed(),this._toggleBodyLock(!1),this.fire("closed"))}},{key:"open",value:function(){this.active=!0}},{key:"close",value:function(){this.noExit||(this.active=!1)}},{key:"getModal",value:function(){return this.$.modal}},{key:"_toggleBodyLock",value:function(e){var t=document.body;e?t.style.overflow="hidden":t.style.overflow=""}},{key:"_closeOnEscape",value:function(){var e=this;document.addEventListener("keyup",function(t){27===t.keyCode&&e.close()})}},{key:"attached",value:function(){this._closeOnEscape()}},{key:"behaviors",get:function(){return[o]}}]),e}();Polymer(i)}()</script> </dom-module>